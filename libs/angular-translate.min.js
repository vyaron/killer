angular.module("pascalprecht.translate",["ng"]).run(["$translate",function(e){var t=e.storageKey(),n=e.storage();n?n.get(t)?e.use(n.get(t)):angular.isString(e.preferredLanguage())?e.use(e.preferredLanguage()):n.set(t,e.use()):angular.isString(e.preferredLanguage())&&e.use(e.preferredLanguage())}]),angular.module("pascalprecht.translate").provider("$translate",["$STORAGE_KEY",function(e){var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v={},m=[],g=e,y=[],b=!1,w="translate-cloak",E=!1,S=".",x=function(){var e=window.navigator;return(e.language||e.browserLanguage||e.systemLanguage||e.userLanguage||"").split("-").join("_")},T=function(e){for(var t=[],r=angular.lowercase(e),i=0,s=m.length;s>i;i++)t.push(angular.lowercase(m[i]));if(t.indexOf(r)>-1)return e;if(n){var o;for(var u in n){var a=!1,f=n.hasOwnProperty(u)&&angular.lowercase(u)===angular.lowercase(e);if("*"===u.slice(-1)&&(a=u.slice(0,-1)===e.slice(0,u.length-1)),(f||a)&&(o=n[u],t.indexOf(angular.lowercase(o))>-1))return o}}var l=e.split("_");return l.length>1&&t.indexOf(angular.lowercase(l[0]))>-1?l[0]:e},N=function(e,t){if(!e&&!t)return v;if(e&&!t){if(angular.isString(e))return v[e]}else angular.isObject(v[e])||(v[e]={}),angular.extend(v[e],C(t));return this};this.translations=N,this.cloakClassName=function(e){return e?(w=e,this):w};var C=function(e,t,n,r){var i,s,o,u;t||(t=[]),n||(n={});for(i in e)e.hasOwnProperty(i)&&(u=e[i],angular.isObject(u)?C(u,t.concat(i),n,i):(s=t.length?""+t.join(S)+S+i:i,t.length&&i===r&&(o=""+t.join(S),n[o]="@:"+s),n[s]=u));return n};this.addInterpolation=function(e){return y.push(e),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(e){return l=e,this},this.useSanitizeValueStrategy=function(e){return b=e,this},this.preferredLanguage=function(e){return e?(t=e,this):t},this.translationNotFoundIndicator=function(e){return this.translationNotFoundIndicatorLeft(e),this.translationNotFoundIndicatorRight(e),this},this.translationNotFoundIndicatorLeft=function(e){return e?(p=e,this):p},this.translationNotFoundIndicatorRight=function(e){return e?(d=e,this):d},this.fallbackLanguage=function(e){return k(e),this};var k=function(e){return e?(angular.isString(e)?(i=!0,r=[e]):angular.isArray(e)&&(i=!1,r=e),angular.isString(t)&&r.push(t),this):i?r[0]:r};this.use=function(e){if(e){if(!v[e]&&!c)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+e+"'");return s=e,this}return s};var L=function(e){return e?(g=e,void 0):a?a+g:g};this.storageKey=L,this.useUrlLoader=function(e){return this.useLoader("$translateUrlLoader",{url:e})},this.useStaticFilesLoader=function(e){return this.useLoader("$translateStaticFilesLoader",e)},this.useLoader=function(e,t){return c=e,h=t||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(e){return u=e,this},this.storagePrefix=function(e){return e?(a=e,this):e},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(e){return f=e,this},this.usePostCompiling=function(e){return E=!!e,this},this.determinePreferredLanguage=function(e){var n=e&&angular.isFunction(e)?e():x();return t=m.length?T(n):n,this},this.registerAvailableLanguageKeys=function(e,t){return e?(m=e,t&&(n=t),this):m},this.$get=["$log","$injector","$rootScope","$q",function(e,n,a,m){var S,x,O,M=n.get(l||"$translateDefaultInterpolation"),_=!1,D={},P={},H=function(e,n,i){if(angular.isArray(e)){var o=function(e){for(var t={},r=[],s=function(e){var r=m.defer(),s=function(n){t[e]=n,r.resolve([e,n])};return H(e,n,i).then(s,s),r.promise},o=0,u=e.length;u>o;o++)r.push(s(e[o]));return m.all(r).then(function(){return t})};return o(e)}var a=m.defer();e&&(e=e.trim());var f=function(){var e=t?P[t]:P[s];if(x=0,u&&!e){var n=S.get(g);if(e=P[n],r&&r.length){var i=F(r,n);x=i>-1?i+=1:0,r.push(t)}}return e}();return f?f.then(function(){Q(e,n,i).then(a.resolve,a.reject)},a.reject):Q(e,n,i).then(a.resolve,a.reject),a.promise},F=function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},I=function(e){return p&&(e=[p,e].join(" ")),d&&(e=[e,d].join(" ")),e},q=function(e){s=e,a.$emit("$translateChangeSuccess"),u&&S.set(H.storageKey(),s),M.setLocale(s),angular.forEach(D,function(e,t){D[t].setLocale(s)}),a.$emit("$translateChangeEnd")},R=function(e){if(!e)throw"No language key specified for loading.";var t=m.defer();return a.$emit("$translateLoadingStart"),_=!0,n.get(c)(angular.extend(h,{key:e})).then(function(n){var r={};a.$emit("$translateLoadingSuccess"),angular.isArray(n)?angular.forEach(n,function(e){angular.extend(r,C(e))}):angular.extend(r,C(n)),_=!1,t.resolve({key:e,table:r}),a.$emit("$translateLoadingEnd")},function(e){a.$emit("$translateLoadingError"),t.reject(e),a.$emit("$translateLoadingEnd")}),t.promise};if(u&&(S=n.get(u),!S.get||!S.set))throw new Error("Couldn't use storage '"+u+"', missing get() or set() method!");angular.isFunction(M.useSanitizeValueStrategy)&&M.useSanitizeValueStrategy(b),y.length&&angular.forEach(y,function(e){var r=n.get(e);r.setLocale(t||s),angular.isFunction(r.useSanitizeValueStrategy)&&r.useSanitizeValueStrategy(b),D[r.getInterpolationIdentifier()]=r});var U=function(e){var t=m.defer();return v.hasOwnProperty(e)?(t.resolve(v[e]),t.promise):(P[e].then(function(e){N(e.key,e.table),t.resolve(e.table)},t.reject),t.promise)},W=function(e,t,n,r){var i=m.defer();return U(e).then(function(o){o.hasOwnProperty(t)?(r.setLocale(e),i.resolve(r.interpolate(o[t],n)),r.setLocale(s)):i.reject()},i.reject),i.promise},X=function(e,t,n,r){var i,o=v[e];return o.hasOwnProperty(t)&&(r.setLocale(e),i=r.interpolate(o[t],n),r.setLocale(s)),i},V=function(e,t,i,o){var u=m.defer();if(e<r.length){var a=r[e];W(a,t,i,o).then(function(e){u.resolve(e)},function(){var n=V(e+1,t,i,o);u.resolve(n)})}else if(f){var l=n.get(f)(t,s);void 0!==l?u.resolve(l):u.resolve(t)}else u.resolve(t);return u.promise},$=function(e,t,n,i){var s;if(e<r.length){var o=r[e];s=X(o,t,n,i),s||(s=$(e+1,t,n,i))}return s},J=function(e,t,n){return V(O>0?O:x,e,t,n)},K=function(e,t,n){return $(O>0?O:x,e,t,n)},Q=function(e,t,i){var o=m.defer(),u=s?v[s]:v,a=i?D[i]:M;if(u&&u.hasOwnProperty(e)){var l=u[e];"@:"===l.substr(0,2)?H(l.substr(2),t,i).then(o.resolve,o.reject):o.resolve(a.interpolate(l,t))}else f&&!_&&n.get(f)(e,s),s&&r&&r.length?J(e,t,a).then(function(e){o.resolve(e)},function(e){o.reject(I(e))}):o.reject(I(e));return o.promise},G=function(e,t,i){var o,u=s?v[s]:v,a=i?D[i]:M;if(u&&u.hasOwnProperty(e)){var l=u[e];o="@:"===l.substr(0,2)?G(l.substr(2),t,i):a.interpolate(l,t)}else f&&!_&&n.get(f)(e,s),s&&r&&r.length?(x=0,o=K(e,t,a)):o=I(e);return o};if(H.preferredLanguage=function(){return t},H.cloakClassName=function(){return w},H.fallbackLanguage=function(e){if(void 0!==e&&null!==e){if(k(e),c&&r&&r.length)for(var t=0,n=r.length;n>t;t++)P[r[t]]||(P[r[t]]=R(r[t]));H.use(H.use())}return i?r[0]:r},H.useFallbackLanguage=function(e){if(void 0!==e&&null!==e)if(e){var t=F(r,e);t>-1&&(O=t)}else O=0},H.proposedLanguage=function(){return o},H.storage=function(){return S},H.use=function(e){if(!e)return s;var t=m.defer();a.$emit("$translateChangeStart");var n=T(e);return n&&(e=n),!v[e]&&c?(o=e,P[e]=R(e).then(function(n){N(n.key,n.table),t.resolve(n.key),o===e&&(q(n.key),o=void 0)},function(e){o=void 0,a.$emit("$translateChangeError"),t.reject(e),a.$emit("$translateChangeEnd")})):(t.resolve(e),q(e)),t.promise},H.storageKey=function(){return L()},H.isPostCompilingEnabled=function(){return E},H.refresh=function(e){function t(){i.resolve(),a.$emit("$translateRefreshEnd")}function n(){i.reject(),a.$emit("$translateRefreshEnd")}if(!c)throw new Error("Couldn't refresh translation table, no loader registered!");var i=m.defer();if(a.$emit("$translateRefreshStart"),e)v[e]?R(e).then(function(n){N(n.key,n.table),e===s&&q(s),t()},n):n();else{var o=[];if(r&&r.length)for(var u=0,f=r.length;f>u;u++)o.push(R(r[u]));s&&o.push(R(s)),m.all(o).then(function(e){angular.forEach(e,function(e){v[e.key]&&delete v[e.key],N(e.key,e.table)}),s&&q(s),t()})}return i.promise},H.instant=function(e,i,o){if(null===e||angular.isUndefined(e))return e;if(angular.isArray(e)){for(var u={},a=0,l=e.length;l>a;a++)u[e[a]]=H.instant(e[a],i,o);return u}if(angular.isString(e)&&e.length<1)return e;e&&(e=e.trim());var c,h=[];t&&h.push(t),s&&h.push(s),r&&r.length&&(h=h.concat(r));for(var p=0,d=h.length;d>p;p++){var m=h[p];if(v[m]&&"undefined"!=typeof v[m][e]&&(c=G(e,i,o)),"undefined"!=typeof c)break}return c||""===c||(c=e,f&&!_&&n.get(f)(e,s)),c},c&&(angular.equals(v,{})&&H.use(H.use()),r&&r.length))for(var Y=0,Z=r.length;Z>Y;Y++)P[r[Y]]=R(r[Y]);return H}]}]),angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",["$interpolate",function(e){var t,n={},r="default",i=null,s={escaped:function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=angular.element("<div></div>").text(e[n]).html());return t}},o=function(e){var t;return t=angular.isFunction(s[i])?s[i](e):e};return n.setLocale=function(e){t=e},n.getInterpolationIdentifier=function(){return r},n.useSanitizeValueStrategy=function(e){return i=e,this},n.interpolate=function(t,n){return i&&(n=o(n)),e(t)(n||{})},n}]),angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",["$translate","$q","$interpolate","$compile","$parse","$rootScope",function(e,t,n,r,i,s){return{restrict:"AE",scope:!0,compile:function(t,o){var u=o.translateValues?o.translateValues:void 0,l=o.translateInterpolation?o.translateInterpolation:void 0,h=t[0].outerHTML.match(/translate-value-+/i);return function(t,p,v){if(t.interpolateParams={},v.$observe("translate",function(e){t.translationId=angular.equals(e,"")||!angular.isDefined(e)?n(p.text().replace(/^\s+|\s+$/g,""))(t.$parent):e}),v.$observe("translateDefault",function(e){t.defaultText=e}),u&&v.$observe("translateValues",function(e){e&&t.$parent.$watch(function(){angular.extend(t.interpolateParams,i(e)(t.$parent))})}),h){var m=function(e){v.$observe(e,function(n){t.interpolateParams[angular.lowercase(e.substr(14,1))+e.substr(15)]=n})};for(var y in v)v.hasOwnProperty(y)&&"translateValue"===y.substr(0,14)&&"translateValues"!==y&&m(y)}var b=function(t,n,i){i||"undefined"==typeof n.defaultText||(t=n.defaultText),p.html(t);var s=e.isPostCompilingEnabled(),u="undefined"!=typeof o.translateCompile,f=u&&"false"!==o.translateCompile;(s&&!u||f)&&r(p.contents())(n)},w=function(){return u||h?function(){var n=function(){t.translationId&&t.interpolateParams&&e(t.translationId,t.interpolateParams,l).then(function(e){b(e,t,!0)},function(e){b(e,t,!1)})};t.$watch("interpolateParams",n,!0),t.$watch("translationId",n)}:function(){var n=t.$watch("translationId",function(r){t.translationId&&r&&e(r,{},l).then(function(e){b(e,t,!0),n()},function(e){b(e,t,!1),n()})},!0)}}(),E=s.$on("$translateChangeSuccess",w);w(),t.$on("$destroy",E)}}}}]),angular.module("pascalprecht.translate").directive("translateCloak",["$rootScope","$translate",function(e,t){return{compile:function(n){e.$on("$translateLoadingSuccess",function(){n.removeClass(t.cloakClassName())}),n.addClass(t.cloakClassName())}}}]),angular.module("pascalprecht.translate").filter("translate",["$parse","$translate",function(e,t){return function(n,r,i){return angular.isObject(r)||(r=e(r)(this)),t.instant(n,r,i)}}]);angular.module("pascalprecht.translate").factory("$translateStaticFilesLoader",["$q","$http",function(e,t){return function(n){if(!n||!angular.isString(n.prefix)||!angular.isString(n.suffix)){throw new Error("Couldn't load static files, no prefix or suffix specified!")}var r=e.defer();t({url:[n.prefix,n.key,n.suffix].join(""),method:"GET",params:""}).success(function(e){r.resolve(e)}).error(function(e){r.reject(n.key)});return r.promise}}])